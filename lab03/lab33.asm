	ORG 0000H
	AJMP MAIN
	ORG 0050H
MAIN:
	MOV	R6,P1
	MOV P3,R6
	MOV	DPTR,#SSTABLE
	MOV R0,#0H
	MOV R1,#0H
	MOV R2,#0H
	MOV R3,#0H

	
	
LOOP:
	MOV A,#0H
	JBC P3.0,LOOP1
	JBC P3.1,LOOP2
	JBC P3.2,LOOP3
	JBC P3.3,LOOP4
	JBC P3.4,LOOP1
	JBC P3.5,LOOP2
	JBC P3.6,LOOP3	
	JBC P3.7,LOOP4
	JMP LOOP5
LOOP1:
    MOV A,R0
	ADD A,#08H
	MOV R0,A
	JMP LOOP
	
LOOP2:
    MOV A,R1
    ADD A,#04H
	MOV R1,A
	JMP LOOP    
LOOP3:
    MOV A,R2
	ADD A,#02H
	MOV R2,A
	JMP LOOP
LOOP4:
	MOV A,R3
	ADD A,#01H
	MOV R3,A
	JMP LOOP
		
LOOP5:
	MOV A,#0H
	ADD A,R0
	ADD A,R1
	ADD A,R2
	ADD A,R3
	JMP LOOP6

LOOP6:

	MOVC A,@A+DPTR
	MOV P0,A
	JMP MAIN

SSTABLE:
	DB	0C0H	;  11000000B=0
	DB	0F9H	;  11111001B=1
	DB	0A4H	;  10100100B=2
	DB	0B0H	;  10110000B=3
	DB	099H	;  10011001B=4
	DB	092H	;  10010010B=5
	DB	082H	;  10000010B=6
	DB	0F8H	;  11111000B=7
	DB	080H	;  10000000B=8
	DB	090H	;  10010000B=9
	DB  088H    ;  10001000B=10
	DB  083H    ;  10000011B=11
	DB  0C6H    ;  11000110B=12
	DB  0A1H    ;  10100001B=13
	DB  086H    ;  10000110B=14
	DB  08EH    ;  10001110B=15
	DB  040H    ;  01000000B=16
	DB  079H    ;  01111001B=17
	DB  024H    ;  00100100B=18
	DB  030H    ;  00110000B=19
	DB  019H    ;  00011001B=20
	DB  012H    ;  00010010B=21
	DB  002H    ;  00000010B=22
	DB  078H    ;  01111000B=23
	DB  000H    ;  00000000B=24
	DB  010H    ;  00010000B=25
	DB  008H    ;  00001000B=26
	DB  003H    ;  00000011B=27
	DB  046H    ;  01000110B=28
	DB  021H    ;  00100001B=29
	DB  006H    ;  00000100B=30
	

	END
